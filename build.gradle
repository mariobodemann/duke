buildscript {
    repositories {
        mavenCentral()
    }
}

plugins {
    id "com.palantir.graal" version "0.3.0-7-gdb167e6"
}

apply plugin: 'java'
apply plugin: 'application'

repositories {
    jcenter()
}

mainClassName = 'net.karmacoder.duke.Main'

graal {
    graalVersion '1.0.0-rc14'
    outputName 'duke'
    mainClass mainClassName
}

run {
    if (project.hasProperty("appArgs")) {
        args Eval.me(appArgs)
    }
}

jar {
  manifest {
    attributes(
      'Class-Path': configurations.compile.collect { it.getName() }.join(' '),
      'Main-Class': mainClassName
    )
  }
}